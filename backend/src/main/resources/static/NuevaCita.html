<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="Image/png" href="Imagen huella viva.png">
    <title>Nueva Cita</title>
    <link rel="stylesheet" href="Stylecl.css">
    <link rel="stylesheet" href="Stylemod.css">
</head>


<body>
    <div class="contenedor-formulario">

        <a href="TablaCitaD.html" title="volver">
            <img src="Imagen huella viva.png" alt="logo Huellas vivas" class="logo">
        </a>
        <h2 id="tituloFormulario">Nueva Cita</h2>
        <form action="#" method="POST" id="formularioCita">
            <!-- Campo oculto para el ID de la Cita (usado solo en edición) -->
            <input type="hidden" id="idCitaHidden" name="idCita" value="">

            <!-- Campo de Fecha y Hora -->
            <div class="grupo-campo">
                <label for="fechaHora">Fecha y Hora:</label>
                <!-- Usamos un input de tipo datetime-local para facilitar la selección -->
                <input type="datetime-local" id="fechaHora" name="fechaHora" required>
            </div>

            <!-- Selección de Mascota -->
            <div class="grupo-campo">
                <label for="mascotaId">Mascota (Paciente):</label>
                <select id="mascotaId" name="mascotaId" required>
                    <!-- Las opciones se llenarán con JavaScript -->
                    <option value="">Cargando mascotas...</option>
                </select>
            </div>
            
            <!-- Selección de Veterinario (Empleado) -->
            <div class="grupo-campo">
                <label for="empleadoId">Veterinario Asignado:</label>
                <select id="empleadoId" name="empleadoId" required>
                    <!-- Las opciones se llenarán con JavaScript -->
                    <option value="">Cargando veterinarios...</option>
                </select>
            </div>


            <!-- Motivo de la Cita -->
            <div class="grupo-campo">
                <label for="motivo">Motivo de la Cita:</label>
                <textarea id="motivo" name="motivo" rows="3" required></textarea>
            </div>
            
            <!-- Estado de la Cita (Solo visible y editable en edición, lo ocultamos por ahora) -->
            <!-- En la creación, el backend lo establece por defecto en "PROGRAMADA" -->
            <div class="grupo-campo hidden" id="grupoEstado">
                <label for="estado">Estado:</label>
                <select id="estado" name="estado">
                    <option value="PROGRAMADA">Programada</option>
                    <option value="COMPLETADA">Completada</option>
                    <option value="CANCELADA">Cancelada</option>
                </select>
            </div>

            <div class="grupo-campo">
                <input type="submit" value="Guardar Cita" id="btnGuardar">
            </div>
        </form>
    </div>



    <footer class="pie">
        <table>
            <tr>
                <td>
                    <i class="fa-regular fa-registered"></i> Huellas Vivas <br>
                    <i class="fa-solid fa-location-dot"></i>
                    Av. Carmelo Perez #178 Colonia Jose Vicente Villada <br>
                    <i class="fa-solid fa-phone"></i> Tel: 5523456789 <br>
                </td>
                <td>
                    <i class="fa-regular fa-copyright"></i> NovaCode <br>
                </td>
            </tr>
        </table>
    </footer>
    <!-- Script específico para el formulario de Citas -->
    <script src="scriptcitaforms.js"></script> 
    <script src="scriptmod.js"></script>
</body>
</html>